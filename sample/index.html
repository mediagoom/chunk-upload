<!DOCTYPE html>

<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>node chunk-uploader sample</title>

<script src="lib/chunk-uploader-ui.js"></script>

</head>


<body>
 
  <div
    style="
display: flex;
align-items: center;
flex-direction: column;
font-family: 'Avenir', Helvetica, Arial, sans-serif;
    "
  >

    <div class="">
        <h2>Uploader Sample</h2>
    </div>

    <div id="uploader_host"
      style="
        width: 80%;
      "
    >

    </div>

    <div style="    border: 0.07em solid;
    border-radius: 0.2em;
    cursor: pointer;
    "
    onclick="subcov()"
    >
    Submit Coverage
    </div>

  </div>


<script>
    var upm = chunkuploadui.build('uploader_host');

    function subcov()
    {
      if(undefined !== window.__coverage__)
      {
        var blob = new Blob([JSON.stringify(window.__coverage__, null, 2)], {type : 'application/json'});
            blob.name = 'coverage.json';
          
            upm.add(blob, 'coverage');
      }
      else
      {
        alert("no coverage");
      }
    }
</script>

</html>